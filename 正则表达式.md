# 正则表达式

正则表达式是一种语法无关的匹配规则，要么匹配字符，要么匹配位置。

> 基础:
> * 字符组 [a-z]
> * 量词 {3, 6}
> * 匹配分支 |

量词匹配默认贪婪模式，分支匹配默认懒惰模式

### 正则应用场景
##### 1. 匹配16进制颜色值
```匹配要求：
#ffbbad
#Fc01DF
#FFF
#ffE
```
分析：
1. 字符组：[0-9a-fA-F]
2. 量词：有3次，有6次
3. 匹配分支：长度为3的颜色值或长度为6的颜色值
4. 匹配分支默认懒惰模式，需要调整匹配顺序，量词大的在前
```
结果: [js]
var reg = /#([0-9a-fA-F]{6}|[0-9a-zA-F]{3})/g;
var string = '#ffbbad #Fc01DF #FFF #ffE';
console.log( string.match(reg) );
// => ['#ffbbad', '#Fc01DF', '#FFF', '#ffE']
// 如果先3再6，匹配结果：
// => ['#ffb', '#Fc0', '#FFF', '#ffE']
```

![分支结构的惰性](https://raw.githubusercontent.com/imwng/cheatsheets/master/imgs/reg_01.png)

##### 2. 匹配时间
```匹配要求：
23:59
02:07
```
分析：
1. 小时数，首位接受[0-2]，次位数分情况：
* 首位[01]时，次位数接受[0-9]
* 首位2时，次位数接受[0-3]
2. 分钟数，首位接受[0-5]，次位数接受[0-9]
3. 显然分析1需要做分支结构匹配
```结果: [js]
var reg = /^([01][0-9]|[2][0-3]):[0-5][0-9]$/;
console.log( reg.test('23:59') ); // => true
console.log( reg.test('02:07') ); // => true
```

##### 3. 匹配日期
```匹配要求:
2017-06-10
```
匹配日期顶多用来做格式验证，至于日期合不合法，用正则做太繁琐了，不推荐。

